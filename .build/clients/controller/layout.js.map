{"version":3,"names":["LitElement","html","render","css","ControllerLayout","constructor","client","_components","Set","createRenderRoot","addComponent","comp","add","requestUpdate","deleteComponent","delete","config","app","name","role","Array","from","map","customElements","define","createLayout","$container","layoutId","id","$layout","document","querySelector"],"sources":["../../../src/clients/controller/layout.js"],"sourcesContent":["import { LitElement, html, render, css } from 'lit';\n\nimport '../components/sw-audit.js';\n\n/**\n * This layout is provided for convenience, feel free to edit or even\n * remove it if you want to use you own logic.\n *\n * @example\n * const $layout = createLayout(client, $container);\n * const myComponent = {\n *   render() {\n *     return html`<h1>${Math.random()}</h1>`\n *   },\n * };\n * $layout.addComponent(myComponent);\n * setInterval(() => $layout.requestUpdate(), 1000);\n */\nclass ControllerLayout extends LitElement {\n  constructor() {\n    super();\n\n    this.client = null;\n    this._components = new Set();\n  }\n\n  // no shadow DOM\n  createRenderRoot() {\n    return this;\n  }\n\n  // comp can be either a string or is anything that have a `render` method\n  addComponent(comp) {\n    this._components.add(comp);\n    this.requestUpdate();\n  }\n\n  deleteComponent(comp) {\n    this._components.delete(comp);\n    this.requestUpdate();\n  }\n\n  render() {\n    return html`\n      <header>\n        <h1>${this.client.config.app.name} | ${this.client.role}</h1>\n        <sw-audit .client=\"${this.client}\"></sw-audit>\n      </header>\n      <div>\n        ${Array.from(this._components).map(comp => comp.render ? comp.render() : comp)}\n      </div>\n    `;\n  }\n}\n\ncustomElements.define('controller-layout', ControllerLayout);\n\nexport default function createLayout(client, $container) {\n  const layoutId = `${client.role}-${client.id}`;\n\n  render(html`\n    <controller-layout\n      .client=${client}\n      id=\"${layoutId}\"\n    ></controller-layout>\n  `, $container);\n\n  const $layout = document.querySelector(`#${layoutId}`);\n\n  return $layout;\n}\n\n\n"],"mappings":"AAAA,SAASA,UAAU,EAAEC,IAAI,EAAEC,MAAM,EAAEC,GAAG,QAAQ,KAAK;AAEnD,OAAO,2BAA2B;;AAElC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMC,gBAAgB,SAASJ,UAAU,CAAC;EACxCK,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,CAAC;IAEP,IAAI,CAACC,MAAM,GAAG,IAAI;IAClB,IAAI,CAACC,WAAW,GAAG,IAAIC,GAAG,CAAC,CAAC;EAC9B;;EAEA;EACAC,gBAAgBA,CAAA,EAAG;IACjB,OAAO,IAAI;EACb;;EAEA;EACAC,YAAYA,CAACC,IAAI,EAAE;IACjB,IAAI,CAACJ,WAAW,CAACK,GAAG,CAACD,IAAI,CAAC;IAC1B,IAAI,CAACE,aAAa,CAAC,CAAC;EACtB;EAEAC,eAAeA,CAACH,IAAI,EAAE;IACpB,IAAI,CAACJ,WAAW,CAACQ,MAAM,CAACJ,IAAI,CAAC;IAC7B,IAAI,CAACE,aAAa,CAAC,CAAC;EACtB;EAEAX,MAAMA,CAAA,EAAG;IACP,OAAOD,IAAK;AAChB;AACA,cAAc,IAAI,CAACK,MAAM,CAACU,MAAM,CAACC,GAAG,CAACC,IAAK,MAAK,IAAI,CAACZ,MAAM,CAACa,IAAK;AAChE,6BAA6B,IAAI,CAACb,MAAO;AACzC;AACA;AACA,UAAUc,KAAK,CAACC,IAAI,CAAC,IAAI,CAACd,WAAW,CAAC,CAACe,GAAG,CAACX,IAAI,IAAIA,IAAI,CAACT,MAAM,GAAGS,IAAI,CAACT,MAAM,CAAC,CAAC,GAAGS,IAAI,CAAE;AACvF;AACA,KAAK;EACH;AACF;AAEAY,cAAc,CAACC,MAAM,CAAC,mBAAmB,EAAEpB,gBAAgB,CAAC;AAE5D,eAAe,SAASqB,YAAYA,CAACnB,MAAM,EAAEoB,UAAU,EAAE;EACvD,MAAMC,QAAQ,GAAI,GAAErB,MAAM,CAACa,IAAK,IAAGb,MAAM,CAACsB,EAAG,EAAC;EAE9C1B,MAAM,CAACD,IAAK;AACd;AACA,gBAAgBK,MAAO;AACvB,YAAYqB,QAAS;AACrB;AACA,GAAG,EAAED,UAAU,CAAC;EAEd,MAAMG,OAAO,GAAGC,QAAQ,CAACC,aAAa,CAAE,IAAGJ,QAAS,EAAC,CAAC;EAEtD,OAAOE,OAAO;AAChB"}
