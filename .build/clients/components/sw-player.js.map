{"version":3,"names":["LitElement","html","css","live","SwPlayer","constructor","player","_unobserve","connectedCallback","onUpdate","requestUpdate","disconnectedCallback","render","get","e","set","filterSlider","detail","value","volume","sawFreq","Number","target","source","customElements","define"],"sources":["../../../src/clients/components/sw-player.js"],"sourcesContent":["// src/players/components/sw-player.js\nimport { LitElement, html, css } from 'lit';\nimport { live } from 'lit/directives/live.js';\n\n// import needed GUI components\nimport '@ircam/simple-components/sc-text.js';\nimport '@ircam/simple-components/sc-slider.js';\nimport '@ircam/simple-components/sc-toggle.js';\nimport '@ircam/simple-components/sc-bang.js';\n\nclass SwPlayer extends LitElement {\n  constructor() {\n    super();\n    // stores the `player` state\n    this.player = null;\n    // stores the `unsubscribe` callback returned by the `state.onUpdate` methos\n    // https://soundworks.dev/soundworks/client.SharedState.html#onUpdate\n    this._unobserve = null;\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    // update the component when a state change occurs\n    this._unobserve = this.player.onUpdate(() => this.requestUpdate());\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    // stop reacting to state change when the element is removed from the DOM\n    this._unobserve();\n  }\n\n  render() {\n    // create controls for the player state\n    return html`\n      <h2>Player [id: ${this.player.get('id')}]</h2>\n      <div style=\"padding-bottom: 4px;\">\n        <sc-text value=\"Filter Frequency\" readonly></sc-text>\n        <sc-slider\n          width=\"400\"\n          min=\"0\"\n          max=\"1\"\n          value=${this.player.get('filterSlider')}\n          @input=${e => this.player.set({ filterSlider: e.detail.value })}\n        ></sc-slider>\n        <sc-number\n          .value=\"${this.player.get('filterFreq')}\"\n        ></sc-number>\n        <sc-number\n          .value=\"${this.player.get('numHarm')}\"\n        ></sc-number>\n      </div>\n      <div style=\"padding-bottom: 4px;\">\n        <sc-text value=\"Master Volume\" readonly></sc-text>\n        <sc-slider\n          width=\"400\"\n          min=\"0\"\n          max=\"1\"\n          value=${this.player.get('volume')}\n          @input=${e => this.player.set({ volume: e.detail.value })}\n        ></sc-slider>\n      </div>\n      <div style=\"padding-bottom: 4px;\">\n        <sc-select\n          value=\"${this.player.get('sawFreq')}\"\n          .options=${this.player.get('selectFreq')}\n          @change=${e => this.player.set({ sawFreq: Number(e.target.value) }, { source:'web' })}\n        ></sc-select>\n      </div>\n\n    `;\n  }\n}\n\n\n// register the component into the custom elements registry\ncustomElements.define('sw-player', SwPlayer);\n"],"mappings":"AAAA;AACA,SAASA,UAAU,EAAEC,IAAI,EAAEC,GAAG,QAAQ,KAAK;AAC3C,SAASC,IAAI,QAAQ,wBAAwB;;AAE7C;AACA,OAAO,qCAAqC;AAC5C,OAAO,uCAAuC;AAC9C,OAAO,uCAAuC;AAC9C,OAAO,qCAAqC;AAE5C,MAAMC,QAAQ,SAASJ,UAAU,CAAC;EAChCK,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,CAAC;IACP;IACA,IAAI,CAACC,MAAM,GAAG,IAAI;IAClB;IACA;IACA,IAAI,CAACC,UAAU,GAAG,IAAI;EACxB;EAEAC,iBAAiBA,CAAA,EAAG;IAClB,KAAK,CAACA,iBAAiB,CAAC,CAAC;IACzB;IACA,IAAI,CAACD,UAAU,GAAG,IAAI,CAACD,MAAM,CAACG,QAAQ,CAAC,MAAM,IAAI,CAACC,aAAa,CAAC,CAAC,CAAC;EACpE;EAEAC,oBAAoBA,CAAA,EAAG;IACrB,KAAK,CAACA,oBAAoB,CAAC,CAAC;IAC5B;IACA,IAAI,CAACJ,UAAU,CAAC,CAAC;EACnB;EAEAK,MAAMA,CAAA,EAAG;IACP;IACA,OAAOX,IAAK;AAChB,wBAAwB,IAAI,CAACK,MAAM,CAACO,GAAG,CAAC,IAAI,CAAE;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,IAAI,CAACP,MAAM,CAACO,GAAG,CAAC,cAAc,CAAE;AAClD,mBAAmBC,CAAC,IAAI,IAAI,CAACR,MAAM,CAACS,GAAG,CAAC;MAAEC,YAAY,EAAEF,CAAC,CAACG,MAAM,CAACC;IAAM,CAAC,CAAE;AAC1E;AACA;AACA,oBAAoB,IAAI,CAACZ,MAAM,CAACO,GAAG,CAAC,YAAY,CAAE;AAClD;AACA;AACA,oBAAoB,IAAI,CAACP,MAAM,CAACO,GAAG,CAAC,SAAS,CAAE;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,IAAI,CAACP,MAAM,CAACO,GAAG,CAAC,QAAQ,CAAE;AAC5C,mBAAmBC,CAAC,IAAI,IAAI,CAACR,MAAM,CAACS,GAAG,CAAC;MAAEI,MAAM,EAAEL,CAAC,CAACG,MAAM,CAACC;IAAM,CAAC,CAAE;AACpE;AACA;AACA;AACA;AACA,mBAAmB,IAAI,CAACZ,MAAM,CAACO,GAAG,CAAC,SAAS,CAAE;AAC9C,qBAAqB,IAAI,CAACP,MAAM,CAACO,GAAG,CAAC,YAAY,CAAE;AACnD,oBAAoBC,CAAC,IAAI,IAAI,CAACR,MAAM,CAACS,GAAG,CAAC;MAAEK,OAAO,EAAEC,MAAM,CAACP,CAAC,CAACQ,MAAM,CAACJ,KAAK;IAAE,CAAC,EAAE;MAAEK,MAAM,EAAC;IAAM,CAAC,CAAE;AAChG;AACA;AACA;AACA,KAAK;EACH;AACF;;AAGA;AACAC,cAAc,CAACC,MAAM,CAAC,WAAW,EAAErB,QAAQ,CAAC"}
