{"version":3,"names":["Engine","constructor","audioContext","player","now","currentTime","saw","createOscillator","env","createGain","filter","createBiquadFilter","gain","setValueAtTime","type","Q","value","connect","destination","start","render","linearRampToValueAtTime","get","frequency","Number"],"sources":["../../../src/clients/components/engine.js"],"sourcesContent":["export default class Engine {\n  constructor(audioContext, player) {\n    this.audioContext = audioContext;\n    this.player = player;\n\n\n    const now = this.audioContext.currentTime;\n    this.saw = this.audioContext.createOscillator();\n    this.env = this.audioContext.createGain();\n    this.filter = this.audioContext.createBiquadFilter();\n    this.env.gain.setValueAtTime(0, now);\n    this.saw.type = 'sawtooth';\n    this.filter.Q.value = 11;\n    this.filter.type = \"lowpass\";\n    this.saw.connect(this.filter);\n    this.filter.connect(this.env);\n    this.env.connect(this.audioContext.destination);\n    this.saw.start(now);\n    this.render();\n  }\n\n  render() {\n    const now = this.audioContext.currentTime;\n    this.env.gain.linearRampToValueAtTime(this.player.get('volume'), now + 0.1);\n    this.saw.frequency.value = Number(this.player.get('sawFreq'));\n    this.filter.frequency.linearRampToValueAtTime(this.player.get('filterFreq'), now + 0.1);\n  }\n\n}\n"],"mappings":"AAAA,eAAe,MAAMA,MAAM,CAAC;EAC1BC,WAAWA,CAACC,YAAY,EAAEC,MAAM,EAAE;IAChC,IAAI,CAACD,YAAY,GAAGA,YAAY;IAChC,IAAI,CAACC,MAAM,GAAGA,MAAM;IAGpB,MAAMC,GAAG,GAAG,IAAI,CAACF,YAAY,CAACG,WAAW;IACzC,IAAI,CAACC,GAAG,GAAG,IAAI,CAACJ,YAAY,CAACK,gBAAgB,CAAC,CAAC;IAC/C,IAAI,CAACC,GAAG,GAAG,IAAI,CAACN,YAAY,CAACO,UAAU,CAAC,CAAC;IACzC,IAAI,CAACC,MAAM,GAAG,IAAI,CAACR,YAAY,CAACS,kBAAkB,CAAC,CAAC;IACpD,IAAI,CAACH,GAAG,CAACI,IAAI,CAACC,cAAc,CAAC,CAAC,EAAET,GAAG,CAAC;IACpC,IAAI,CAACE,GAAG,CAACQ,IAAI,GAAG,UAAU;IAC1B,IAAI,CAACJ,MAAM,CAACK,CAAC,CAACC,KAAK,GAAG,EAAE;IACxB,IAAI,CAACN,MAAM,CAACI,IAAI,GAAG,SAAS;IAC5B,IAAI,CAACR,GAAG,CAACW,OAAO,CAAC,IAAI,CAACP,MAAM,CAAC;IAC7B,IAAI,CAACA,MAAM,CAACO,OAAO,CAAC,IAAI,CAACT,GAAG,CAAC;IAC7B,IAAI,CAACA,GAAG,CAACS,OAAO,CAAC,IAAI,CAACf,YAAY,CAACgB,WAAW,CAAC;IAC/C,IAAI,CAACZ,GAAG,CAACa,KAAK,CAACf,GAAG,CAAC;IACnB,IAAI,CAACgB,MAAM,CAAC,CAAC;EACf;EAEAA,MAAMA,CAAA,EAAG;IACP,MAAMhB,GAAG,GAAG,IAAI,CAACF,YAAY,CAACG,WAAW;IACzC,IAAI,CAACG,GAAG,CAACI,IAAI,CAACS,uBAAuB,CAAC,IAAI,CAAClB,MAAM,CAACmB,GAAG,CAAC,QAAQ,CAAC,EAAElB,GAAG,GAAG,GAAG,CAAC;IAC3E,IAAI,CAACE,GAAG,CAACiB,SAAS,CAACP,KAAK,GAAGQ,MAAM,CAAC,IAAI,CAACrB,MAAM,CAACmB,GAAG,CAAC,SAAS,CAAC,CAAC;IAC7D,IAAI,CAACZ,MAAM,CAACa,SAAS,CAACF,uBAAuB,CAAC,IAAI,CAAClB,MAAM,CAACmB,GAAG,CAAC,YAAY,CAAC,EAAElB,GAAG,GAAG,GAAG,CAAC;EACzF;AAEF"}
